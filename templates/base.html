{% import "macros.html" as macros %}

<!DOCTYPE html>
<html lang="en" class="bg-gray-50">
  <head>
    <meta charset="utf-8" />
    
    {% set permalink = section.permalink 
    | default(value=page.permalink 
    | default(value="")) %}
    
    {% set permalink = section.title 
    | default(value=page.title
    | default(value="Berkeley Math Tournament")) %}
    
    <title>{{ title }}</title>
    <meta name="og:title" content="{{ title }}" />
    
    {% set description = section.description
    | default(value=section.summary
    | default(value=page.description
    | default(value=page.summary
    | default(value=""))))
    | striptags
    | split(pat="\n")
    | join(sep=" ") %}

    <script>
    function thing() {
      document.getElementById("menu").classList.toggle("open");
    }
    </script>
  </head>
  <body>
    <div class="max-w-4xl min-h-screen p-4 md:p-8 mx-auto flex flex-col gap-4 md:gap-8">
      {% block header %}
        <header class="flex flex-col gap-4 text-center">
          <a class="mx-auto" href="/"><img src="/assets/logo.png" alt="BMT Logo" width="80"></a>
          <p class="text-2xl font-bold">Berkeley Math Tournament</p>
    
          <nav id="menu"
            class="[&.open>a.nav-hidden]:block [&>a.nav-hidden]:hidden flex flex-col md:flex-row md:mx-auto gap-4 items-stretch">
            {{ macros::nav_link(path="@/_index.md", label="Home") }}
            {{ macros::nav_link(path="@/about.md", label="About") }}
            {{ macros::nav_link(path="@/problems/_index.md", label="Problems and Tests") }}
            {{ macros::nav_link(path="@/archives/_index.md", label="Archives") }}
          </nav>
        </header>
      {% endblock %}
  
      <hr>
  
      <div id="content-wrapper" class="flex-1 flex flex-col gap-4 md:gap-8 relative">
        {% block content %}{% endblock %}
      </div>
  
      <hr>
  
      {% block footer %}
        <div class="flex flex-col items-center justify-between md:items-start text-center md:flex-row gap-4 mb-12">
          <div class="flex flex-col gap-6 items-center md:items-start">
            <div class="flex gap-4 text-xl">
              <a href="https://discord.gg/SKQ4VDYV">BMT Discord</a>
              <a href="https://www.tiktok.com/@berkeley_mt">BMT Website</a>
              <a href="https://gitlab.com/BerkeleyMathTournament/bmt-2024">PW Github Repo</a>
            </div>
          </div>
    
          <div class="flex flex-col gap-4 items-center md:items-end md:text-right max-w-xs">
            <a href="https://ocf.berkeley.edu">
              <img src="https://ocf.berkeley.edu/hosting-logos/ocf-hosted-penguin-dark.svg" width="80"
                alt="Hosted by the OCF" />
            </a>
    
            <p class="text-xs">
              We are a student group acting independently of the University of California. We take full responsibility for
              our organization and this web site.
            </p>
          </div>
        </div>
      {% endblock %}
    </div>
  </body>
</html>
